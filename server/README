* * * * * * * * * * * * * * * * * * * * * * *
*      
*  server.cpp 
*                                                 
*    Pushes kstat & dtrace statistics
*    via ZMQ & protocol buffers to
*    anyone who will listen.
*
*    COMPILE WITH:
*      g++ server.cpp packet.pb.cc -ldtrace -lzmq
*        -lkstat -lprotobuf -O2 -o server_release
*
*    CREATED:  16 JULY 2013
*    UPDATED:  23 JULY 2013
*
* * * * * * * * * * * * * * * * * * * * * * *

 This directory contains the most current release source
 and binary for the dtrace+kstat server (C++ version).


 Dependencies for build from scratch include:

  libdtrace (native on SmartOS)
  libkstat  (native on SmartOS)
  libprotobuf - Google's Protocol Buffers
    latest release from: https://code.google.com/p/protobuf/downloads/list
    v2.5.0 used with binary included in this directory
  libzmq - Zero MQ 
    latest release from: http://www.zeromq.org/intro:get-the-software
    v3.2.3 used with binary included in this directory


 As an alternative to the "COMPILE WITH:" instructions above, use the
 included Makefile by running `make'. To compile only the protocol buffer,
 run `make proto'. To compile only the server, run `make server'. Running
 `make clean' removes previous build of the software.


 The server is currently configured to run on port 7211 using ZMQ's
 PUB (publish) configuration. Future versions will include the ability
 to change port binding.


 BINARY USAGE (built on SmartOS):

  server_release [-h] [-v] [-vlite]

    -h      prints help/usage page
    -v      runs in verbose mode (print all queries and responses/ZMQ packet)
    -vlite  print time (and dtrace ticks (tick-4999)) for each sent message

